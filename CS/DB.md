# DB
### 외래키
외래키는 테이블과 테이블을 연결하고, 중복을 방지하기 위해서 사용됨.

N+1

### 트랜잭션
데이터베이스의 상태를 바꾸는 기능을 수행하기 위한 작업의 단위
- 왜 필요한가?
	- 돈을 송금하는 예제가 가장 이해하기 쉬움
성질(ACID)
- 원자성(Atomicity) : 한 트랜잭션 내에서 실행한 작업들은 하나로 간주 (즉, 모두 성공 또는 모두 실패)
- 일관성(Consistency) : 트랜잭션은 일관성 있는 데이터베이스의 상태를 유지한다. (도메인 유효범위, 무결성 제약조건 등의 제약조건을 위배하지 않는 정상적인 상태)
	- 트랜잭션 도중에 위배는 괜찮. 결과만 정상적인 상태이면 됨.
	- ex) 잔액이 0보다 커야한다.
- 고립성(Isolation) : 동시에 실행되는 트랜잭션들이 서로 영향을 미치지 않게 격리해야함.
- 지속성(Durability) : 트랜잭션을 성공적으로 마치면 결과가 항상 저장되어야함.
트랜잭션 경쟁 시 발생 가능 문제
- Dirty Read : 아직 수정중인 데이터에 접근할 경우 발생하는 데이터 불일치
- Non-Repeatable Read : 한 트랜잭션에서 같은 쿼리를 두번 실행했을 때 발생하는 데이터 불일치
- Phantom Read : 한 트랜잭션에서 일정 범위의 레코드를 두번 이상 읽을때 발생하는 데이터 불일치
해결법 (격리 수준 지정)
- level0 - Read Uncommited
	- 다른 트랜잭션이 커밋하지 않은 레코드에 접근 가능
	- 위의 3가지 문제가 모두 발생 가능하지만 성능은 가장 뛰어남
- level1 - Read Committed
	- 항상 커밋 된 레코드만 읽는다.
	- Dirty Read는 방지할 수 있지만 나머지 두가지 문제는 발생 가능함.
	- 대부분의 DBMS가 기본적으로 채택하고 있음.
- level2 - Repeatable Read
	- 특정 트랜잭션이 읽은 레코드에 대하여 해당 트랜잭션이 종료될때까지 다른 트랜잭션이 수정/삭제하는 것을 방지
	- Phantom Read는 예방 불가능
- level3 - Serializable Read
	- 어떤 트랜잭션이 여러개의 레코드를 조회할 때, 해당 트랜잭션이 끝날때까지 조회 범위에 새로운 레코드를 조회/생성/수정/삭제를 막음.
	- 모든 문제를 해결하지만 성능이 가장 안좋다.

### DB에서의 commit과 rollback이란?
- commit : 하나의 논리적 단위(트랜잭션)에 대한 작업이 성공적으로 끝났을 때, 이 트랜잭션이 행한 갱신 연산이 완료된 것을 트랜잭션 관리자에게 알려주는 연산
- rollback : 하나의 트랜잭션 처리가 비정상적으로 종료되어 DB의 일관성을 깨뜨렸을 때, 모든 연산을 Undo시키는 연산

### DBMS에 대해 설명해보시요

### PK, FK, ER모델이란?

### 참조 무결성이란?

### RDBMS란?

### 정규화
DB의 설계를 재구성하는 테크닉
목적
- 불필요한 데이터를 제거
- 데이터 저장을 논리적으로 한다.
- 이상현상(삽입,갱신,삭제) 방지
1. 1차 정규화 : 컬럼이 원자값을 갖게한다.
	- 예를들어 한 학생이 수강하는 과목이 두개이면 안되고 하나여야한다. -> 두개에서 하나씩으로 바꾸면 row가 많아질 수 있다.
	- 컬럼이 원자값을 갖게함으로써 redundancy가 증가할 수 있지만 이는 데이터의 논리적 구성을 위한 희생
2. 2차 정규화
	- 테이블의 모든 컬럼이 완전 함수적 종속을 만족하는 것.
	- 기본키중에 특정 컬럼에만 종속된 컬럼(부분적 종속)이 없어야 한다.
	- 예를들어 한 학생이 나이와 수강과목을 가지고 있을때 수강과목을 가지지 않을 수도 있다. 그러므로 테이블을 학생-나이, 학생-수강과목으로 나눈다.
3. 3차 정규화
	- 기본키를 제외한 속성들 간의 이행적 함수 종속이 없는 것.
	- 예를들어 street, city는 zipcode로 알아낼 수 있다. 따라서 zipcode로 테이블을 만들어 참조한다.
4. BCNF
	- 3차 정규화를 만족하면서 모든 결정자가 후보키 집합에 속한 정규형
	- 예로는 학생이 수강과목과 교수가 들어가는 테이블을 나누어 학생-수강과목, 수강과목-교수로 만든다.


모델링
SQL
NoSQL
CAP이론

#CS